<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDA vs Bresenham Line Drawing</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2.5em;
            font-weight: 300;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 600;
            color: #4a5568;
        }

        input[type="number"] {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .draw-button {
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .draw-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .algorithms {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .algorithm {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        .algorithm h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #4a5568;
            font-size: 1.5em;
        }

        .canvas-container {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }

        canvas {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: #f8fafc;
        }

        .steps {
            max-height: 200px;
            overflow-y: auto;
            background: #f8fafc;
            border-radius: 10px;
            padding: 15px;
            border: 1px solid #e2e8f0;
        }

        .step {
            padding: 5px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #2d3748;
            border-bottom: 1px solid #e2e8f0;
        }

        .step:last-child {
            border-bottom: none;
        }

        .comparison {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        .comparison h3 {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .comparison-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        @media (max-width: 768px) {
            .algorithms {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Line Drawing Algorithms Comparison</h1>
        
        <div class="controls">
            <div class="input-group">
                <label for="x1">Start X (x₁):</label>
                <input type="number" id="x1" value="2" min="0" max="19">
            </div>
            <div class="input-group">
                <label for="y1">Start Y (y₁):</label>
                <input type="number" id="y1" value="3" min="0" max="19">
            </div>
            <div class="input-group">
                <label for="x2">End X (x₂):</label>
                <input type="number" id="x2" value="12" min="0" max="19">
            </div>
            <div class="input-group">
                <label for="y2">End Y (y₂):</label>
                <input type="number" id="y2" value="8" min="0" max="19">
            </div>
            <div class="input-group">
                <button class="draw-button" onclick="drawLines()">Draw Lines</button>
            </div>
        </div>

        <div class="algorithms">
            <div class="algorithm">
                <h3>DDA Algorithm</h3>
                <div class="canvas-container">
                    <canvas id="ddaCanvas" width="400" height="400"></canvas>
                </div>
                <div class="steps" id="ddaSteps"></div>
            </div>

            <div class="algorithm">
                <h3>Bresenham Algorithm</h3>
                <div class="canvas-container">
                    <canvas id="bresenhamCanvas" width="400" height="400"></canvas>
                </div>
                <div class="steps" id="bresenhamSteps"></div>
            </div>
        </div>

        <div class="comparison">
            <h3>Algorithm Comparison</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspect</th>
                        <th>DDA Algorithm</th>
                        <th>Bresenham Algorithm</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Arithmetic Operations</td>
                        <td>Uses floating-point arithmetic</td>
                        <td>Uses only integer arithmetic</td>
                    </tr>
                    <tr>
                        <td>Speed</td>
                        <td>Slower due to floating-point operations</td>
                        <td>Faster due to integer-only operations</td>
                    </tr>
                    <tr>
                        <td>Accuracy</td>
                        <td>Rounding errors can accumulate</td>
                        <td>More accurate, no rounding errors</td>
                    </tr>
                    <tr>
                        <td>Implementation</td>
                        <td>Simpler to understand and implement</td>
                        <td>More complex but more efficient</td>
                    </tr>
                    <tr>
                        <td>Hardware Requirements</td>
                        <td>Requires floating-point unit</td>
                        <td>Works well with integer-only hardware</td>
                    </tr>
                </tbody>
            </table>
            <div id="performanceResults"></div>
        </div>
    </div>

    <script>
        function ddaAlgorithm(x1, y1, x2, y2) {
            const steps = [];
            const pixels = [];
            
            const dx = x2 - x1;
            const dy = y2 - y1;
            const steps_count = Math.max(Math.abs(dx), Math.abs(dy));
            
            const x_inc = dx / steps_count;
            const y_inc = dy / steps_count;
            
            steps.push(`dx = ${dx}, dy = ${dy}`);
            steps.push(`steps = max(|dx|, |dy|) = ${steps_count}`);
            steps.push(`x_inc = dx/steps = ${x_inc.toFixed(3)}`);
            steps.push(`y_inc = dy/steps = ${y_inc.toFixed(3)}`);
            steps.push('---');
            
            let x = x1;
            let y = y1;
            
            for (let i = 0; i <= steps_count; i++) {
                const pixel_x = Math.round(x);
                const pixel_y = Math.round(y);
                pixels.push([pixel_x, pixel_y]);
                steps.push(`Step ${i}: (${x.toFixed(3)}, ${y.toFixed(3)}) → (${pixel_x}, ${pixel_y})`);
                
                x += x_inc;
                y += y_inc;
            }
            
            return { pixels, steps };
        }

        function bresenhamAlgorithm(x1, y1, x2, y2) {
            const steps = [];
            const pixels = [];
            
            let dx = Math.abs(x2 - x1);
            let dy = Math.abs(y2 - y1);
            let x = x1;
            let y = y1;
            
            const x_inc = x1 < x2 ? 1 : -1;
            const y_inc = y1 < y2 ? 1 : -1;
            let error = dx - dy;
            
            steps.push(`dx = ${dx}, dy = ${dy}`);
            steps.push(`x_inc = ${x_inc}, y_inc = ${y_inc}`);
            steps.push(`Initial error = dx - dy = ${error}`);
            steps.push('---');
            
            let step_count = 0;
            while (true) {
                pixels.push([x, y]);
                steps.push(`Step ${step_count}: Plot (${x}, ${y}), error = ${error}`);
                
                if (x === x2 && y === y2) break;
                
                const e2 = 2 * error;
                let moved = '';
                
                if (e2 > -dy) {
                    error -= dy;
                    x += x_inc;
                    moved += `x${x_inc > 0 ? '+' : ''}`;
                }
                
                if (e2 < dx) {
                    error += dx;
                    y += y_inc;
                    moved += `${moved ? ', ' : ''}y${y_inc > 0 ? '+' : ''}`;
                }
                
                if (moved) {
                    steps.push(`  → Move ${moved}, new error = ${error}`);
                }
                
                step_count++;
                if (step_count > 100) break; // Safety check
            }
            
            return { pixels, steps };
        }

        function drawGrid(ctx, width, height, gridSize) {
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            for (let x = 0; x <= width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            for (let y = 0; y <= height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
        }

        function drawPixels(ctx, pixels, gridSize, color) {
            ctx.fillStyle = color;
            pixels.forEach(([x, y]) => {
                ctx.fillRect(x * gridSize + 1, y * gridSize + 1, gridSize - 2, gridSize - 2);
            });
            
            // Highlight start and end points
            if (pixels.length > 0) {
                ctx.fillStyle = '#e53e3e';
                const [startX, startY] = pixels[0];
                ctx.fillRect(startX * gridSize + 2, startY * gridSize + 2, gridSize - 4, gridSize - 4);
                
                if (pixels.length > 1) {
                    const [endX, endY] = pixels[pixels.length - 1];
                    ctx.fillRect(endX * gridSize + 2, endY * gridSize + 2, gridSize - 4, gridSize - 4);
                }
            }
        }

        function displaySteps(containerId, steps) {
            const container = document.getElementById(containerId);
            container.innerHTML = steps.map(step => `<div class="step">${step}</div>`).join('');
        }

        function drawLines() {
            const x1 = parseInt(document.getElementById('x1').value);
            const y1 = parseInt(document.getElementById('y1').value);
            const x2 = parseInt(document.getElementById('x2').value);
            const y2 = parseInt(document.getElementById('y2').value);
            
            const gridSize = 20;
            
            // DDA Algorithm
            const ddaCanvas = document.getElementById('ddaCanvas');
            const ddaCtx = ddaCanvas.getContext('2d');
            ddaCtx.clearRect(0, 0, ddaCanvas.width, ddaCanvas.height);
            drawGrid(ddaCtx, ddaCanvas.width, ddaCanvas.height, gridSize);
            
            const ddaStart = performance.now();
            const ddaResult = ddaAlgorithm(x1, y1, x2, y2);
            const ddaTime = performance.now() - ddaStart;
            
            drawPixels(ddaCtx, ddaResult.pixels, gridSize, '#667eea');
            displaySteps('ddaSteps', ddaResult.steps);
            
            // Bresenham Algorithm
            const bresenhamCanvas = document.getElementById('bresenhamCanvas');
            const bresenhamCtx = bresenhamCanvas.getContext('2d');
            bresenhamCtx.clearRect(0, 0, bresenhamCanvas.width, bresenhamCanvas.height);
            drawGrid(bresenhamCtx, bresenhamCanvas.width, bresenhamCanvas.height, gridSize);
            
            const bresenhamStart = performance.now();
            const bresenhamResult = bresenhamAlgorithm(x1, y1, x2, y2);
            const bresenhamTime = performance.now() - bresenhamStart;
            
            drawPixels(bresenhamCtx, bresenhamResult.pixels, gridSize, '#764ba2');
            displaySteps('bresenhamSteps', bresenhamResult.steps);
            
            // Performance comparison
            const performanceDiv = document.getElementById('performanceResults');
            performanceDiv.innerHTML = `
                <h4>Performance Results:</h4>
                <p><strong>DDA:</strong> ${ddaResult.pixels.length} pixels, ${ddaTime.toFixed(4)}ms</p>
                <p><strong>Bresenham:</strong> ${bresenhamResult.pixels.length} pixels, ${bresenhamTime.toFixed(4)}ms</p>
                <p><strong>Speed Difference:</strong> Bresenham is ${(ddaTime / bresenhamTime).toFixed(2)}x faster</p>
            `;
        }

        // Initialize with default values
        drawLines();
    </script>
</body>
</html>